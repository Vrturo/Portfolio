jQuery(function(e){function t(t){l.animate("x",t,{duration:u}),e("#main-overlay").show().fadeTo(u,1,"easeInOutCubic")}function a(){l.animate("x",0,{duration:u}),e("#main-overlay").fadeTo(u,0,"easeInOutCubic",function(){e(this).hide()})}function n(e){var t,a,n=e.find("input[name='name']"),i=e.find("input[name='email']"),r=e.find("input[name='subject']"),s=e.find("textarea[name='message']");return n.add(i).add(r).add(s).removeClass("invalid"),""==n.val()?n.addClass("invalid").focus():""==i.val()?i.addClass("invalid").focus():""==r.val()?r.addClass("invalid").focus():""==s.val()?s.addClass("invalid").focus():(t=i.val(),a=t.split("@"),-1==t.indexOf("@",0)||2!=a.length||""==a[0]||""==a[1]||-1==a[1].indexOf(".",0)?i.addClass("invalid").focus():!0)}function i(t){var a,n=t.find("input[name='name']"),i=t.find("input[name='email']"),o=t.find("input[name='subject']"),d=t.find("textarea[name='message']");a="name="+n.val()+"&email="+i.val()+"&subject="+o.val()+"&message="+d.val(),t.addClass("sending").find("input,textarea,button").attr("disabled","disabled"),e.ajax({type:"POST",url:t.attr("action"),data:a,success:function(e){t.removeClass("sending").find("input,textarea,button").removeAttr("disabled"),"missing_name"==e?n.addClass("invalid").focus():"missing_email"==e||"invalid_email"==e?i.addClass("invalid").focus():"missing_subject"==e?o.addClass("invalid").focus():"missing_message"==e?d.addClass("invalid").focus():"success"==e?r(t):"failure"==e&&s(t)},error:function(){s(t)}})}function r(e){var t=2e3;o(e,"success",t),setTimeout(function(){e.find("input,textarea").val("").focusout()},t+600)}function s(e){var t=2e3;o(e,"failure",t)}function o(e,t,a){e.children().fadeTo(150,0).filter(".contact-form-messages").fadeTo(0,1).show().find(".contact-form-"+t).delay(300).fadeTo(300,1).delay(a).fadeTo(150,0).end().end().not(".contact-form-messages").delay(a+900).fadeTo(300,1),setTimeout(function(){e.find(".contact-form-messages").hide()},a+900)}var d,l=new Css3d(e("#main-wrap")),u=700;e("#main-wrap").append("<div id='main-overlay'/>"),e("#about .nav-link").click(function(){t(e("#about").width())}),e("#contact .nav-link").click(function(){t(-e("#contact").width())}),e(window).mousedown(function(t){t.target==e("#main-overlay").get(0)&&a()}),e(window).resize(function(){clearTimeout(d),d=setTimeout(function(){a()})}),e(".contact_form form").submit(function(){return n(e(this))===!0&&i(e(this)),!1}),e(".contact_form form").find("input,textarea").focusout(function(){e(this).removeClass("invalid")}),e(".gallery3d").gallery3d()});